apiVersion: vlanman.dialo.ai/v1
kind: VlanNetwork
metadata:
  name: net4
spec:
  vlanId: 400
  gateways:
    - address: "10.0.1.1/24"
      routes:
        - dest: "10.10.10.10/24"
          src: "none"
  pools:
    - name: primary
      description: "Primary IP pool"
      addresses:
        - "10.0.0.1/24"
      routes:
        - dest: "10.0.1.1/32"
          src: "self"
          scopeLink: true
        - dest: "10.10.10.10"
          via: "10.0.1.1"
          src: none
  managerAffinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
          - matchExpressions:
              - key: kubernetes.io/hostname
                operator: NotIn
                values:
                  - k3s-2
